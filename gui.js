// Generated by IcedCoffeeScript 1.8.0-d
(function() {
  var $, compile, parse, render, _ref;

  $ = require('jquery');

  _ref = require('./compiler'), parse = _ref.parse, compile = _ref.compile, render = _ref.render;

  $(function() {
    var $code, $content, $textarea, $thisVar, recompute;
    $code = $('#code');
    $content = $('#content');
    $textarea = $('#textarea');
    $thisVar = $('#thisVar');
    recompute = function() {
      var opts, rendered, src;
      src = $textarea.val();
      opts = {
        thisVar: $thisVar.val()
      };
      $('#ast').text(parse(src, opts).ast);
      $code.text(compile(src, opts));
      opts.handleError = function(e) {
        return console.log(e);
      };
      rendered = render(src, opts);
      $content.empty();
      $content.append(rendered);
    };
    $textarea.on('input', recompute);
    return $thisVar.on('input', recompute);
  });

}).call(this);
